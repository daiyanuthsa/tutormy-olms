import{j as e,r as d,H as N,a as y}from"./app-Do6pGuyq.js";import{I as f}from"./InputLabel-DFtbVGjz.js";import{P as b}from"./PrimaryButton-DOTukzjT.js";import{I as g}from"./iconify-EbXF-GiU.js";import{A as v}from"./ApplicationLogo-C0p2XMGc.js";const w=({currentStep:a})=>{const l=a/3*100;return e.jsx("section",{children:e.jsx("div",{className:"w-full mb-6",children:e.jsx("div",{className:"w-full bg-white rounded-full h-2",children:e.jsx("div",{className:"bg-primary-4 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})})})})},k=[{value:"",label:"Pilih Statusmu",disabled:!0},{value:"pelajar",label:"Pelajar"},{value:"mahasiswa",label:"Mahasiswa"},{value:"umum",label:"Umum"}],S=[{value:"laki-laki",label:"Laki-laki"},{value:"perempuan",label:"Perempuan"}],C=({nextStep:a})=>{const[s,l]=d.useState({status:"",gender:"",birthdate:""}),[n,i]=d.useState({}),c=d.useRef(null),o=d.useCallback(t=>{const{name:x,value:u}=t.target;l(p=>({...p,[x]:u})),i(p=>({...p,[x]:""}))},[]),r=()=>{const t={};return s.status||(t.status="Status wajib diisi"),s.gender||(t.gender="Jenis kelamin wajib diisi"),s.birthdate||(t.birthdate="Tanggal lahir wajib diisi"),t},m=()=>{const t=r();i(t),Object.keys(t).length===0&&a(s)},h=()=>{var t,x,u,p;(x=(t=c.current)==null?void 0:t.showPicker)!=null&&x.call(t)||((p=(u=c.current)==null?void 0:u.click)==null||p.call(u))};return e.jsx("section",{children:e.jsxs("div",{className:"text-white max-w-md mx-auto space-y-8",children:[e.jsxs("header",{className:"space-y-3 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Konfirmasi Akun"}),e.jsx("p",{className:"text-xl font-semibold",children:"Satu langkah lagi menuju semua mimpimu!"})]}),e.jsxs("form",{className:"space-y-5 h-80",onSubmit:t=>t.preventDefault(),children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"status",value:"Status",className:"mb-2"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:e.jsx(g,{icon:"mdi:account",className:"w-5 h-5"})}),e.jsx("select",{id:"status",name:"status",value:s.status,onChange:o,className:"appearance-none w-full pl-12 pr-10 py-3 text-sm bg-neutral-3 rounded-full border-none shadow-sm focus:ring-primary-2",children:k.map(({value:t,label:x,disabled:u})=>e.jsx("option",{value:t,disabled:u,children:x},t))})]}),n.status&&e.jsx("p",{className:"text-sm text-red-400 mt-1",children:n.status})]}),e.jsxs("div",{children:[e.jsx(f,{value:"Jenis Kelamin",className:"mb-2"}),e.jsx("div",{className:"flex space-x-4 mt-2",children:S.map(({value:t,label:x})=>e.jsxs("label",{className:"flex-1 flex items-center space-x-2 cursor-pointer py-3 bg-neutral-3 rounded-full px-7",children:[e.jsx("input",{type:"radio",name:"gender",value:t,checked:s.gender===t,onChange:o}),e.jsx("span",{children:x})]},t))}),n.gender&&e.jsx("p",{className:"text-sm text-red-400 mt-1",children:n.gender})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"birthdate",value:"Tanggal Lahir",className:"mb-2"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:h,className:"absolute inset-y-0 left-0 pl-4 flex items-center z-10",children:e.jsx(g,{icon:"mdi:calendar",className:"w-5 h-5 text-white"})}),e.jsx("input",{ref:c,id:"birthdate",name:"birthdate",type:"date",value:s.birthdate,onChange:o,className:"w-full pl-12 bg-neutral-3 border-none rounded-full py-3 text-sm appearance-none [&::-webkit-calendar-picker-indicator]:opacity-0"})]}),n.birthdate&&e.jsx("p",{className:"text-sm text-red-400 mt-1",children:n.birthdate})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{type:"button",variant:"secondary",onClick:m,className:"rounded-2xl bg-primary-4 px-6",children:"Lanjutkan →"})})]})})},j=1e3,P=({nextStep:a})=>{const[s,l]=d.useState(""),[n,i]=d.useState(""),c=()=>{const r=s.trim().length;if(!r){i("Alasan wajib diisi.");return}if(r>j){i(`Maksimal ${j} karakter. Saat ini: ${r} karakter.`);return}i(""),a({reason:s})},o=r=>{l(r.target.value),i("")};return e.jsx("section",{children:e.jsxs("div",{className:"max-w-xl mx-auto text-white space-y-8",children:[e.jsxs("header",{className:"space-y-3 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Mari cari tahu tentang Tutormy"}),e.jsx("p",{className:"text-xl font-semibold",children:"Apa ekspektasi kamu bergabung bersama Tutormy?"})]}),e.jsxs("div",{className:"h-80",children:[e.jsx("textarea",{value:s,onChange:o,placeholder:"Berikan alasanmu bergabung di sini",className:"w-full h-40 px-4 py-3 bg-neutral-5 rounded-2xl resize-none text-sm",maxLength:j}),e.jsx("div",{className:"flex justify-between mt-1 text-xs text-neutral-300",children:e.jsxs("span",{children:[s.length,"/",j," karakter"]})}),n&&e.jsx("p",{className:"text-sm text-red-400 mt-1",children:n})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{variant:"secondary",onClick:c,className:"rounded-2xl bg-primary-4 px-6",children:"Lanjutkan →"})})]})})},T=({item:a,selected:s,onSelect:l})=>e.jsxs("button",{type:"button",onClick:()=>l(a),className:`flex items-center gap-2 px-6 py-2 rounded-full border-2 transition-all duration-200 ${s===a?"bg-purple-600 border-purple-400 text-white":"bg-transparent border-gray-400 text-gray-300 hover:border-purple-400"}`,children:[e.jsx("input",{type:"radio",name:"source",value:a,checked:s===a,onChange:()=>l(a),className:"accent-primary-2 bg-transparent border-2",required:!0}),e.jsx("span",{children:a})]}),E=({nextStep:a})=>{const[s,l]=d.useState(""),[n,i]=d.useState(""),c=()=>{if(!s){i("Silakan pilih salah satu sumber.");return}i(""),a({source:s})},o={SosialMedia:["Youtube","Instagram","Twitter"],Lainnya:["Teman","Lainnya"]};return e.jsx("section",{children:e.jsxs("div",{className:"max-w-md mx-auto text-white space-y-8",children:[e.jsxs("div",{className:"space-y-3 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Mari cari tahu tentang Tutormy"}),e.jsx("p",{className:"text-xl font-semibold",children:"Dari mana kamu mengetahui Tutormy? Pilih opsi di bawah ini ya!"})]}),e.jsxs("div",{className:"space-y-10 h-72",children:[Object.entries(o).map(([r,m])=>e.jsx("div",{className:"flex justify-center gap-6",children:m.map(h=>e.jsx(T,{item:h,selected:s,onSelect:l},h))},r)),n&&e.jsx("p",{className:"text-sm text-red-400 text-center",children:n})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{variant:"secondary",onClick:c,className:"rounded-2xl bg-primary-4 px-6",children:"Simpan"})})]})})},O=()=>{const[a,s]=d.useState(1),[l,n]=d.useState({status:"",gender:"",birthdate:"",expectation:"",discovery_source:""}),i=r=>{a===1?(n(m=>({...m,status:r.status,gender:r.gender==="laki-laki"?"M":"F",birthdate:r.birthdate})),s(2)):a===2&&(n(m=>({...m,expectation:r.reason})),s(3))},c=()=>s(r=>Math.max(r-1,1)),o=({source:r})=>{n(m=>({...m,discovery_source:r})),y.post(route("profile.complete.post"),{status:l.status,gender:l.gender,date_birth:l.birthdate,expectation:l.expectation,discovery_source:r})};return e.jsxs("section",{children:[e.jsx(N,{title:"Complete Profile"}),e.jsx("div",{className:"absolute bottom-0 w-80 h-80 bg-purple-700 opacity-30 blur-3xl rounded-full left-[-100px] top-1/4 z-0"}),e.jsxs("div",{className:"min-h-screen text-white px-4 sm:px-6 md:px-12 lg:px-20 py-6 md:py-8 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-7",children:[e.jsxs(b,{variant:"outline",onClick:c,className:`rounded-xl md:rounded-2xl text-white px-3 py-2 md:px-4 md:py-2.5 lg:px-6 lg:py-3 text-sm md:text-base ${a===1?"invisible":""}`,children:[e.jsx(g,{icon:"basil:arrow-left-outline",width:"16",height:"16",className:"mr-1.5 md:mr-2 md:w-5 md:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Kembali"})]}),e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 flex-shrink-0",children:e.jsx("div",{className:"scale-75 sm:scale-90 md:scale-100 lg:scale-110",children:e.jsx(v,{})})}),e.jsx("div",{className:"w-[60px] sm:w-[100px] md:w-[120px] lg:w-[140px] flex-shrink-0"})]}),e.jsx("div",{className:"flex flex-1 justify-center items-center",children:e.jsxs("div",{id:"form",className:"w-full max-w-xl",children:[e.jsx(w,{currentStep:a}),a===1&&e.jsx(C,{nextStep:i}),a===2&&e.jsx(P,{nextStep:i,prevStep:c}),a===3&&e.jsx(E,{prevStep:c,nextStep:o})]})})]})]})};export{O as default};
