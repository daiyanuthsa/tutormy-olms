import{j as e,r as d,m as h,$ as p}from"./app-C7ISSGxT.js";import{P as j,E as b,C as f}from"./PortofolioComponents-B6XWjqRM.js";import{I as c}from"./iconify-Ccyr8GLJ.js";import{P as g}from"./PrimaryButton-DZ99-Af3.js";import{M as N}from"./MainLayout-C3C6zNMT.js";import"./Navbar-Rn-8WX_Z.js";import"./ApplicationLogo-CzQYbcPT.js";const y=({profiledata:s})=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:s.photo?s.photo:"/assets/teacher.png",alt:"profile",className:"w-24 h-24 md:w-28 md:h-28 rounded-full object-cover"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xl font-semibold",children:s.name?s.name:"Teacher"}),e.jsx("p",{className:"font-medium text-sm text-neutral-300",children:s.email}),e.jsx("p",{className:"font-medium text-sm text-neutral-300",children:s.status}),e.jsxs("button",{className:"text-sm md:text-base font-semibold flex items-center gap-2 bg-primary-4 hover:bg-primary-3 transition px-4 py-1 rounded-full",onClick:()=>window.location.href="/profile/edit",children:["Edit ",e.jsx(c,{icon:"tabler:edit",className:"w-5 h-5"})]})]})]}),w=({profiledata:s})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("p",{className:"text-xl font-semibold",children:"About"})}),e.jsx("div",{className:"bg-neutral-5 rounded-2xl p-6 md:p-8 max-w-full",children:e.jsx("p",{className:"text-sm font-medium text-neutral-1 text-justify leading-relaxed",children:s.about})})]}),v=({profiledata:s})=>e.jsx("section",{className:"text-white",children:e.jsxs("div",{className:"container mx-auto space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h6",{className:"text-2xl font-bold",children:["Selamat Datang kembali, ",s.name,"!"]}),e.jsx("p",{children:"Yuk lanjutkan progres belajarmu hari ini!"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6 xl:gap-0",children:[e.jsx("div",{className:"lg:w-2/5",children:e.jsx(y,{profiledata:s})}),e.jsx("div",{className:"lg:w-4/5",children:e.jsx(w,{profiledata:s})})]})]})}),k=({formData:s,setFormData:r,onClose:t,onSave:l,onChange:n})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-neutral-3 rounded-2xl p-6 w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Tambahkan Portofolio"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(c,{icon:"material-symbols:close",className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[["name","link"].map((a,m)=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:a==="name"?"Masukkan Nama":"Salin atau ketikan link"}),e.jsx("input",{type:a==="name"?"text":"url",value:s[a],onChange:x=>n(a,x.target.value),className:"w-full bg-neutral-5 border border-primary-3 rounded-full px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 transition-colors",placeholder:a==="name"?"ex: Project UI Landing Page":"https://github.com/username/project"})]},m)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload Thumbnail (Max 2MB)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:a=>n("thumbnail",a.target.files[0]),className:"w-full bg-neutral-5 border border-primary-3 rounded-full px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 transition-colors"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(g,{className:"rounded-full",onClick:l,children:"Simpan"})})]})]})}),P=({portfolio:s})=>{const[r,t]=d.useState(!1),[l,n]=d.useState({name:"",link:"",thumbnail:null}),a=(i,o)=>{n(u=>({...u,[i]:o}))},m=()=>{n(s?{name:s.name,link:s.link,thumbnail:null}:{name:"",link:"",thumbnail:null}),t(!0)},x=()=>{const i=new FormData;i.append("name",l.name),i.append("link",l.link),l.thumbnail&&i.append("thumbnail",l.thumbnail),h.post("/profile/portofolio/update",i,{onSuccess:o=>{t(!1)},onError:o=>{console.error("Validation errors:",o),alert("Terdapat kesalahan. Pastikan semua field terisi dengan benar.")}})};return console.log(s),e.jsx("section",{className:"text-white min-h-screen",children:e.jsxs("div",{className:"container mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Portofolio Saya"}),e.jsx("button",{onClick:m,className:"text-lg font-semibold flex items-center gap-2 transition-colors hover:text-purple-400",children:s?e.jsxs(e.Fragment,{children:["Ubah"," ",e.jsx(c,{icon:"ic:round-edit",className:"w-6 h-6"})]}):e.jsxs(e.Fragment,{children:["Tambah"," ",e.jsx(c,{icon:"ic:round-plus",className:"w-6 h-6"})]})})]}),s?e.jsx(j,{portfolio:s}):e.jsx(b,{}),r&&e.jsx(k,{formData:l,setFormData:n,onClose:()=>t(!1),onSave:x,onChange:a})]})})},U=({profiledata:s,courses:r,portofolio:t})=>e.jsxs(N,{children:[e.jsx(p,{title:"Dashboard"}),e.jsxs("main",{className:"pt-28 w-full space-y-7",children:[e.jsx(v,{profiledata:s}),e.jsx(f,{courses:r}),e.jsx(P,{portfolio:t})]})]});export{U as default};
