import{j as e,Y as j,r as u,q as b,$ as N,m as w}from"./app-6mCIMYdR.js";import{M as v}from"./MainLayout-ChGM3ikf.js";import{I as y}from"./iconify-XxVepqrx.js";import{c as k}from"./createLucideIcon-CIgZd4rG.js";import"./Navbar-sMdr-WAY.js";import"./PrimaryButton-JLC8SE7p.js";import"./ApplicationLogo-hckUB51O.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S=k("search",M),_=({article:s})=>{const i=(c,r=200)=>c.length>r?c.substring(0,r)+"...":c;return e.jsxs(j,{href:`/tips/${s.slug}`,className:"flex gap-8 items-center",children:[e.jsx("div",{className:"w-72 h-52 flex-shrink-0",children:e.jsx("img",{src:`/storage/${s.thumbnail}`,alt:s.name,className:"w-full h-full object-cover rounded-lg"})}),e.jsxs("main",{className:"space-y-1",children:[e.jsx("div",{className:"py-1 px-5 bg-primary-2 rounded-full inline-flex justify-center items-center",children:e.jsx("span",{className:"font-semibold text-sm",children:s.category_name})}),e.jsx("h2",{className:"text-3xl font-bold",children:s.name}),e.jsx("p",{className:"text-lg font-medium",children:i(s.content)}),e.jsxs("div",{className:"flex gap-4 items-center pt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{icon:"mdi:eye-outline",className:"w-4 h-4"}),e.jsx("span",{className:"text-primary-1 text-sm font-semibold",children:"2.5m"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{icon:"mdi:calendar-outline",className:"w-4 h-4"}),e.jsx("span",{className:"text-primary-1 text-sm font-semibold",children:s.published_at})]})]})]})]})};function L({initialQuery:s,onSearch:i}){const[c,r]=u.useState(s||""),o=()=>{i(c)};return u.useEffect(()=>{r(s||"")},[s]),e.jsxs("div",{className:"flex items-center w-full gap-4 text-white",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-xl",children:e.jsx(S,{className:"h-5 w-5"})}),e.jsx("input",{type:"text",placeholder:"Cari kelas",value:c,onChange:n=>r(n.target.value),onKeyPress:n=>{n.key==="Enter"&&o()},className:"w-full pl-12 py-2.5 rounded-2xl placeholder:text-neutral-1 bg-transparent border-2 border-primary-3 focus:border-primary-3 focus:ring-primary-3 focus:outline-none text-white"})]}),e.jsx("button",{onClick:o,className:"bg-gradient-light-left font-extrabold px-10 py-2.5 rounded-full text-white hover:opacity-90 transition-opacity",children:"Search"})]})}const C=({categories:s,activeCategory:i,onCategoryChange:c})=>{const r=u.useRef(null),o=u.useRef(!1),n=u.useRef(0),p=u.useRef(0),m=l=>{o.current=!0,n.current=l.pageX-r.current.offsetLeft,p.current=r.current.scrollLeft},x=()=>o.current=!1,f=()=>o.current=!1,h=l=>{if(!o.current)return;l.preventDefault();const a=(l.pageX-r.current.offsetLeft-n.current)*1.5;r.current.scrollLeft=p.current-a};return e.jsxs("div",{ref:r,className:"flex gap-6 lg:gap-12 overflow-x-auto no-scrollbar cursor-grab select-none",onMouseDown:m,onMouseLeave:x,onMouseUp:f,onMouseMove:h,children:[e.jsx("button",{onClick:()=>c(""),className:`text-lg whitespace-nowrap transition ${i===""?"text-primary-3":"text-white"}`,children:"Semua"}),s.map(l=>e.jsx("button",{onClick:()=>c(l.id),className:`text-lg whitespace-nowrap transition ${i===l.id?"text-primary-3":"text-white"}`,children:l.name},l.id))]})},$=s=>new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"});function Q({articles:s,categories:i}){var h,l;const{url:c,props:r}=b(),o=new URLSearchParams(window.location.search),n=o.get("search")||"",p=o.get("category")||"",m=parseInt(o.get("page"))||1,x=({search:t=n,category:a=p,page:g=1})=>{const d=new URLSearchParams;t&&d.set("search",t),a&&d.set("category",a),d.set("page",g),w.get(`${window.location.pathname}?${d.toString()}`,{},{preserveScroll:!0,preserveState:!0})},f=u.useMemo(()=>{const t=[];if(s.last_page<=5)for(let a=1;a<=s.last_page;a++)t.push(a);else{t.push(1),m>3&&t.push("ellipsis-left");const a=Math.max(2,m-1),g=Math.min(s.last_page-1,m+1);for(let d=a;d<=g;d++)t.push(d);m<s.last_page-2&&t.push("ellipsis-right"),t.push(s.last_page)}return t},[m,s.last_page]);return e.jsxs(v,{children:[e.jsx(N,{title:"Tips"}),e.jsxs("div",{className:"container mx-auto py-24 lg:py-28 text-white space-y-12",children:[e.jsxs("div",{className:"space-y-10 pt-12",children:[e.jsx(L,{initialQuery:n,onSearch:t=>x({search:t})}),e.jsx(C,{categories:i,activeCategory:p,onCategoryChange:t=>x({category:t})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-4xl font-bold",children:"Tips Terbaru"}),e.jsx("div",{children:"Temukan berbagai tips menarik yang bisa membantu kamu dalam belajar dan mengembangkan diri."})]}),n&&e.jsxs("div",{className:"mb-6 text-lg text-gray-300",children:['Hasil pencarian untuk: "',e.jsx("span",{className:"font-semibold text-primary-3",children:n}),'"']}),e.jsx("div",{className:"grid grid-rows-3 gap-12",children:(h=s==null?void 0:s.data)==null?void 0:h.map(t=>e.jsx(_,{article:{...t,published_at:$(t.created_at)}},t.id))}),s.last_page>1&&e.jsx("div",{className:"mt-8 flex flex-wrap gap-2",children:f.map((t,a)=>t==="ellipsis-left"||t==="ellipsis-right"?e.jsx("span",{className:"w-12 h-12 flex items-center justify-center text-gray-400",children:"..."},a):e.jsx("button",{onClick:()=>x({page:t}),className:`w-12 h-12 rounded-full font-bold ${t===m?"bg-primary-1 text-black":"text-primary-1 border-2 border-primary-1"}`,children:t},a))}),((l=s==null?void 0:s.data)==null?void 0:l.length)===0&&e.jsx("div",{className:"text-center mt-10 text-xl text-gray-400",children:n||p?"Tidak ada tips atau artikel yang ditemukan.":"Belum ada tips atau artikel yang tersedia saat ini."})]})]})}export{Q as default};
